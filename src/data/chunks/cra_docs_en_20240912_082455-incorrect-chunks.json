{
  "too_small": [
    {
      "id": "b6cbebd1-c877-438f-a336-10a0a09e4840",
      "size": 55,
      "headers": {
        "h1": "IP addresses - Anthropic",
        "h2": "",
        "h3": "#   IPv6"
      },
      "text": "Using the API\n\nIP addresses\n<code>160.79.104.0/23</code>\n<code>2607:6bc0::/48</code>\n\n- [IPv4](#ipv4)\n- [IPv6](#ipv6)\n"
    }
  ],
  "too_large": [
    {
      "id": "baff1af8-9c91-42fe-ac17-9c9034a39109",
      "size": 1058,
      "headers": {
        "h1": "Tool use (function calling) - Anthropic",
        "h2": "Tool use examples",
        "h3": ""
      },
      "text": "Here are a few code examples demonstrating various tool use patterns and techniques. For brevityâ€™s sake, the tools are simple tools, and the tool descriptions are shorter than would be ideal to ensure best performance.\n\nSingle tool example\n\nShell\n\nPython\n\nCopy\n\n```bash\ncurl https://api.anthropic.com/v1/messages \\\n     --header \"x-api-key: $ANTHROPIC_API_KEY\" \\\n     --header \"anthropic-version: 2023-06-01\" \\\n     --header \"content-type: application/json\" \\\n     --data \\\n'{\n    \"model\": \"claude-3-5-sonnet-20240620\",\n    \"max_tokens\": 1024,\n    \"tools\": [{\\\n        \"name\": \"get_weather\",\\\n        \"description\": \"Get the current weather in a given location\",\\\n        \"input_schema\": {\\\n            \"type\": \"object\",\\\n            \"properties\": {\\\n                \"location\": {\\\n                    \"type\": \"string\",\\\n                    \"description\": \"The city and state, e.g. San Francisco, CA\"\\\n                },\\\n                \"unit\": {\\\n                    \"type\": \"string\",\\\n                    \"enum\": [\"celsius\", \"fahrenheit\"],\\\n                    \"description\": \"The unit of temperature, either \\\"celsius\\\" or \\\"fahrenheit\\\"\"\\\n                }\\\n            },\\\n            \"required\": [\"location\"]\\\n        }\\\n    }],\n    \"messages\": [{\"role\": \"user\", \"content\": \"What is the weather like in San Francisco?\"}]\n}'\n\n```\n\nClaude will return a response similar to:\n\nJSON\n\nCopy\n\n```JSON\n{\n  \"id\": \"msg_01Aq9w938a90dw8q\",\n  \"model\": \"claude-3-5-sonnet-20240620\",\n  \"stop_reason\": \"tool_use\",\n  \"role\": \"assistant\",\n  \"content\": [\\\n    {\\\n      \"type\": \"text\",\\\n      \"text\": \"<thinking>I need to call the get_weather function, and the user wants SF, which is likely San Francisco, CA.</thinking>\"\\\n    },\\\n    {\\\n      \"type\": \"tool_use\",\\\n      \"id\": \"toolu_01A09q90qw90lq917835lq9\",\\\n      \"name\": \"get_weather\",\\\n      \"input\": {\"location\": \"San Francisco, CA\", \"unit\": \"celsius\"}\\\n    }\\\n  ]\n}\n\n```\n\nYou would then need to execute the <code>get_weather</code> function with the provided input, and return the result in a new <code>user</code> message:\n\nShell\n\nPython\n\nCopy\n\n```bash\ncurl https://api.anthropic.com/v1/messages \\\n     --header \"x-api-key: $ANTHROPIC_API_KEY\" \\\n     --header \"anthropic-version: 2023-06-01\" \\\n     --header \"content-type: application/json\" \\\n     --data \\\n'{\n    \"model\": \"claude-3-5-sonnet-20240620\",\n    \"max_tokens\": 1024,\n    \"tools\": [\\\n        {\\\n            \"name\": \"get_weather\",\\\n            \"description\": \"Get the current weather in a given location\",\\\n            \"input_schema\": {\\\n                \"type\": \"object\",\\\n                \"properties\": {\\\n                    \"location\": {\\\n                        \"type\": \"string\",\\\n                        \"description\": \"The city and state, e.g. San Francisco, CA\"\\\n                    },\\\n                    \"unit\": {\\\n                        \"type\": \"string\",\\\n                        \"enum\": [\"celsius\", \"fahrenheit\"],\\\n                        \"description\": \"The unit of temperature, either \\\"celsius\\\" or \\\"fahrenheit\\\"\"\\\n                    }\\\n                },\\\n                \"required\": [\"location\"]\\\n            }\\\n        }\\\n    ],\n    \"messages\": [\\\n        {\\\n            \"role\": \"user\",\\\n            \"content\": \"What is the weather like in San Francisco?\"\\\n        },\\\n        {\\\n            \"role\": \"assistant\",\\\n            \"content\": [\\\n                {\\\n                    \"type\": \"text\",\\\n                    \"text\": \"<thinking>I need to use get_weather, and the user wants SF, which is likely San Francisco, CA.</thinking>\"\\\n                },\\\n                {\\\n                    \"type\": \"tool_use\",\\\n                    \"id\": \"toolu_01A09q90qw90lq917835lq9\",\\\n                    \"name\": \"get_weather\",\\\n                    \"input\": {\\\n                        \"location\": \"San Francisco, CA\",\\\n                        \"unit\": \"celsius\"\\\n                    }\\\n                }\\\n            ]\\\n        },\\\n        {\\\n            \"role\": \"user\",\\\n            \"content\": [\\\n                {\\\n                    \"type\": \"tool_result\",\\\n                    \"tool_use_id\": \"toolu_01A09q90qw90lq917835lq9\",\\\n                    \"content\": \"15 degrees\"\\\n                }\\\n            ]\\\n        }\\\n    ]\n}'\n\n```\n"
    },
    {
      "id": "e7aa3093-be07-4b9d-85b6-98cff5e790e5",
      "size": 1265,
      "headers": {
        "h1": "Streaming Messages - Anthropic",
        "h2": "Raw HTTP Stream response",
        "h3": "Streaming request with tool use"
      },
      "text": "In this request, we ask Claude to use a tool to tell us the weather.\n\nRequest\n\nCopy\n\n```bash\n  curl https://api.anthropic.com/v1/messages \\\n    -H \"content-type: application/json\" \\\n    -H \"x-api-key: $ANTHROPIC_API_KEY\" \\\n    -H \"anthropic-version: 2023-06-01\" \\\n    -d '{\n      \"model\": \"claude-3-5-sonnet-20240620\",\n      \"max_tokens\": 1024,\n      \"tools\": [\\\n        {\\\n          \"name\": \"get_weather\",\\\n          \"description\": \"Get the current weather in a given location\",\\\n          \"input_schema\": {\\\n            \"type\": \"object\",\\\n            \"properties\": {\\\n              \"location\": {\\\n                \"type\": \"string\",\\\n                \"description\": \"The city and state, e.g. San Francisco, CA\"\\\n              }\\\n            },\\\n            \"required\": [\"location\"]\\\n          }\\\n        }\\\n      ],\n      \"tool_choice\": {\"type\": \"any\"},\n      \"messages\": [\\\n        {\\\n          \"role\": \"user\",\\\n          \"content\": \"What is the weather like in San Francisco?\"\\\n        }\\\n      ],\n      \"stream\": true\n    }'\n\n```\n\nResponse\n\nCopy\n\n```json\nevent: message_start\ndata: {\"type\":\"message_start\",\"message\":{\"id\":\"msg_014p7gG3wDgGV9EUtLvnow3U\",\"type\":\"message\",\"role\":\"assistant\",\"model\":\"claude-3-haiku-20240307\",\"stop_sequence\":null,\"usage\":{\"input_tokens\":472,\"output_tokens\":2},\"content\":[],\"stop_reason\":null}}\n\nevent: content_block_start\ndata: {\"type\":\"content_block_start\",\"index\":0,\"content_block\":{\"type\":\"text\",\"text\":\"\"}}\n\nevent: ping\ndata: {\"type\": \"ping\"}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"Okay\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\",\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" let\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"'s\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" check\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" the\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" weather\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" for\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" San\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" Francisco\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\",\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" CA\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\":\"}}\n\nevent: content_block_stop\ndata: {\"type\":\"content_block_stop\",\"index\":0}\n\nevent: content_block_start\ndata: {\"type\":\"content_block_start\",\"index\":1,\"content_block\":{\"type\":\"tool_use\",\"id\":\"toolu_01T1x1fJ34qAmk2tNTrN7Up6\",\"name\":\"get_weather\",\"input\":{}}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"{\\\"location\\\":\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\" \\\"San\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\" Francisc\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"o,\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\" CA\\\"\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\", \"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"\\\"unit\\\": \\\"fah\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"renheit\\\"}\"}}\n\nevent: content_block_stop\ndata: {\"type\":\"content_block_stop\",\"index\":1}\n\nevent: message_delta\ndata: {\"type\":\"message_delta\",\"delta\":{\"stop_reason\":\"tool_use\",\"stop_sequence\":null},\"usage\":{\"output_tokens\":89}}\n\nevent: message_stop\ndata: {\"type\":\"message_stop\"}\n\n```\n"
    }
  ]
}